<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <script>
      "use strict";

      document.addEventListener("DOMContentLoaded",
        loadEvent => {
          document.addEventListener("keydown", event => {
            document.getElementById("content").innerHTML += "<br> " + event.key
            let validKeys = ["ArrowRight", "ArrowLeft", "ArrowDown", "ArrowUp", "Enter"]

            if (validKeys.includes(event.key)) {
              //TODO use post method
              // fetch("/fetch", {method: "POST"})
              fetch("/fetch")
                .then(response => {
                  if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                  }
                  return response.text()
                })
                .then(responseText => {
                  document.getElementById("content").innerHTML += "<br> " + responseText
                })
            }
          });
        });
    </script>
 </head>
 <body>
   <div id="content">
     content
   </div>
 </body>
</html>
