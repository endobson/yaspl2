(module wc
  (import
    (numbers integer->decimal-bytes)
    (prim
      #:types (Bytes InputPort OutputPort Int Array)
      #:values (write-bytes bytes-length =)
      #:patterns ()))
  (export)
  (types)

  (define (main [args : (Array Bytes)] [stdin : InputPort] [stdout : OutputPort] [stderr : OutputPort]) : Int
    (let ([bytes (integer->decimal-bytes 123)])
      (if (= (write-bytes bytes stdout 0 (bytes-length bytes)) (bytes-length bytes))
          0
          1))))
