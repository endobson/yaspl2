(module prim
  (define (yprim_fill_stack_inner [out-array : (array int64)] [base-pointer : int64]) : int64
    (def arr-size (ptr-ref (array-ref int64 out-array 0)))
    (def index 0)
    (while (< index arr-size)
      (ptr-set! (array-ref int64 out-array (+ index 1)) base-pointer)
      (set! index (+ 1 index)))
    (return arr-size)))
