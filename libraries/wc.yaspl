(module wc
  (import
    (prim
      #:types (Bytes InputPort OutputPort S64 Array)
      #:values (write-bytes bytes-length =)
      #:patterns ())
    (numbers integer->decimal-bytes))
  (export)
  (types)

  (define (main [args : (Array Bytes)] [stdin : InputPort] [stdout : OutputPort] [stderr : OutputPort]): S64
    (let ([bytes (integer->decimal-bytes 123)])
      (if (= (write-bytes bytes stdout 0 (bytes-length bytes)) (bytes-length bytes))
          0
          1))))
