#:module (type-checked-language)
#:import {
  (list)
  (module-name)
  (prim)
  {(resolved-types-language)
    {#:types
      Block
      BlockDefinition
      CaseClause
      Export
      Expression
      FunctionArg
      FunctionDefinition
      Imports
      Pattern
      PatternExport
      StaticDefinition
      TypeDefinition
      TypeExport
      VariantDefinition
      VariantField
    }
    {#:values
      function-arg-pattern
      function-definition-name
      variant-definition-name
      variant-field-name
    }
    {#:patterns
      abstraction-pattern
      annotated-expr
      app-expr
      begin-expr
      block
      boolean-literal
      bytes-literal
      bytes-pattern
      case-clause
      case-expr
      export
      function-arg
      function-definition
      if-expr
      ignore-pattern
      imports
      int-literal
      int-pattern
      lambda-expr
      let-expr
      match-def
      pattern-export
      type-definition
      type-export
      var-expr
      varargs-app-expr
      varargs-definition
      variable-pattern
      variant-definition
      variant-field
    }
  }
  (types)
}
(export
  (#:types
    Block BlockDefinition CaseClause Export Exports Expression FunctionDefinition FunctionArg Imports
    Module Pattern StaticDefinition TypeDefinition TypeExport PatternExport VariantDefinition
    VariantField ValueExport)
  (#:values
   module exports value-export module-definitions module-imports module-name
   function-definition-name function-arg-pattern variant-field-name variant-definition-name)
  (#:patterns
    module annotated-expr app-expr type-export exports begin-expr block boolean-literal
    bytes-literal case-clause case-expr function-definition function-arg if-expr int-literal
    lambda-expr let-expr match-def type-definition var-expr varargs-app-expr
    varargs-definition variant-definition variant-field imports abstraction-pattern bytes-pattern
    ignore-pattern int-pattern variable-pattern value-export pattern-export export))
(types
  (define-type Module
    (module [name : ModName]
            [imports : Imports]
            [exports : Exports]
            [types : (List TypeDefinition)]
            [definitions : (List FunctionDefinition)]
            [statics : (List StaticDefinition)]))
  (define-type Exports
    (exports [types : (List TypeExport)]
             [values : (List ValueExport)]
             [patterns : (List PatternExport)]
             [statics : (List Export)]))
  (define-type ValueExport
    (value-export [local-name : Bytes] [exported-name : Bytes] [type : Type])))
